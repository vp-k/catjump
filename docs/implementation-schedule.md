# Cat Jump: Tower Stack - 구현 일정표

**문서 버전**: 1.1
**작성일**: 2025-11-27
**최종 수정**: 2025-11-27
**기반 문서**: system-architecture.md v1.1, game-design.md v1.6.2
**총 예상 기간**: 9주 (MVP 6주 + 리텐션/심리 강화 1주 + 소셜/폴리싱 2주)

**v1.1 주요 변경사항**:
- 심리 엔진 시스템 8개 추가 (Week 4)
- 리텐션 시스템 강화 (Week 5: 스트릭, FOMO, 오프라인 보상)
- 푸시 알림 & D1/D3-D5/D7-D14 훅 추가 (Week 6)
- COPPA/GDPR 법적 준수 시스템 추가 (Week 6)
- IAP 퍼널 추적 및 2차 구매 유도 추가 (Week 6)
- 접근성 시스템 대폭 강화 (Week 8: 색맹 모드, 햅틱, 4개 언어)
- 총 36시간 추가, 예상 기간 8주 → 9주로 조정

---

## 목차

1. [프로젝트 셋업 (Week 0)](#week-0-프로젝트-셋업)
2. [Phase 1: MVP 구현 (Week 1-6)](#phase-1-mvp-구현-week-1-6)
3. [Phase 2: 소셜 & 폴리싱 (Week 7-8)](#phase-2-소셜--폴리싱-week-7-8)
4. [기술 스택 셋업 체크리스트](#기술-스택-셋업-체크리스트)
5. [위험 요소 및 완충 시간](#위험-요소-및-완충-시간)
6. [마일스톤 요약](#마일스톤-요약)

---

## Week 0: 프로젝트 셋업

**목표**: 개발 환경 구축 및 기본 프로젝트 구조 생성

### Day 1: 프로젝트 초기화 (4시간)

**Tasks**:
1. Vite + TypeScript 프로젝트 생성 (30분)
   ```bash
   npm create vite@latest cat-jump -- --template vanilla-ts
   cd cat-jump
   npm install
   ```

2. Phaser 3 설치 및 설정 (1시간)
   ```bash
   npm install phaser
   ```
   - `src/config/GameConfig.ts` 작성
   - 기본 씬 구조 생성 (BootScene, MenuScene, GameScene)

3. TypeScript 설정 최적화 (30분)
   - `tsconfig.json` 설정
   - Path alias 설정 (`@/src/*`)

4. 폴더 구조 생성 (30분)
   ```
   src/
   ├── scenes/
   ├── managers/
   ├── objects/
   ├── config/
   ├── types/
   ├── services/
   └── index.ts
   ```

5. Git 저장소 초기화 (30분)
   - `.gitignore` 설정
   - 초기 커밋

6. ESLint + Prettier 설정 (1시간)

**산출물**:
- ✅ 기본 프로젝트 구조
- ✅ Phaser 3 동작 확인 (빈 화면)
- ✅ TypeScript 컴파일 성공

---

### Day 2: Firebase 셋업 (5시간)

**Tasks**:
1. Firebase 프로젝트 생성 (30분)
   - Firebase Console에서 프로젝트 생성
   - 웹 앱 등록

2. Firebase SDK 설치 (1시간)
   ```bash
   npm install firebase
   ```
   - `src/managers/FirebaseManager.ts` 작성
   - 환경변수 설정 (`.env`, `.env.example`)

3. Firebase 서비스 활성화 (1.5시간)
   - Authentication (익명 로그인)
   - Firestore Database
   - Analytics
   - **Cloud Messaging (FCM)** ← 푸시 알림용
   - Cloud Functions 프로젝트 준비

4. 백엔드 추상화 레이어 구현 (1.5시간)
   - `src/services/IDataService.ts` 인터페이스 정의
   - `src/services/FirebaseDataService.ts` 구현
   - `src/managers/DataManager.ts` 프록시 생성

5. FCM 기본 설정 (30분)
   - FCM 토큰 발급
   - 푸시 알림 권한 요청
   - 토큰 Firestore 저장

**산출물**:
- ✅ Firebase 연결 확인
- ✅ 익명 로그인 동작
- ✅ Firestore read/write 테스트
- ✅ FCM 토큰 발급 확인

---

### Day 3: 기본 에셋 준비 (4시간)

**Tasks**:
1. 임시 에셋 생성/다운로드 (2시간)
   - 고양이 스프라이트 (placeholder)
   - 캔 스프라이트 5종 (일반, 황금, 선물, 함정, 넓은)
   - UI 아이콘 (코인, 다이아, 생명)

2. 에셋 로딩 시스템 구현 (1.5시간)
   - `BootScene.ts` 완성
   - 로딩 바 UI

3. 기본 사운드 추가 (30분)
   - 임시 효과음 (점프, 착지)

**산출물**:
- ✅ 에셋 로딩 동작 확인
- ✅ `public/assets/` 구조 완성

---

### Day 4-5: 개발 도구 셋업 (8시간)

**Tasks**:
1. 상수 및 타입 정의 (2시간)
   - `src/types/index.ts` 작성
   - `src/config/Constants.ts` 작성
   - `src/config/DifficultyConfig.ts` 테이블 정의

2. 매니저 스켈레톤 생성 (3시간)
   - `AudioManager.ts`
   - `ScoreManager.ts`
   - `SaveManager.ts`

3. 디버그 도구 구현 (2시간)
   - 개발 모드 감지
   - 콘솔 명령어 (`debugMode`, `giveCoin`, `resetProgress`)
   - FPS 모니터

4. 빌드 스크립트 작성 (1시간)
   - `package.json` scripts 정리
   - Vite 빌드 설정 최적화

**산출물**:
- ✅ 개발 환경 완성
- ✅ 디버그 도구 동작 확인

---

## Phase 1: MVP 구현 (Week 1-6)

---

## Week 1: 코어 게임플레이 프로토타입

**목표**: 점프 → 착지 → 점수 획득 기본 루프 완성

### Day 1-2: 점프 메카닉 (8시간)

**Tasks**:
1. `Cat.ts` 캐릭터 클래스 구현 (3시간)
   - Phaser.Physics.Arcade.Sprite 상속
   - 기본 속성 (position, velocity)
   - 애니메이션 시스템 (idle, jump, land)

2. 입력 처리 (2시간)
   - 터치/클릭 이벤트 리스너
   - 점프 쿨다운 방지 로직

3. 점프 물리 구현 (2시간)
   - 고정 점프 속도 (-500 px/s)
   - 중력 설정 (800 px/s²)
   - 최대 높이 제한 (~156 px)

4. 테스트 및 밸런싱 (1시간)
   - 점프 느낌 조정
   - 터치 반응성 확인

**산출물**:
- ✅ 화면 클릭 시 고양이가 점프
- ✅ 중력에 의해 자연스럽게 하강

**의존성**: Phaser Physics 엔진

---

### Day 3-4: 캔 스포너 및 착지 감지 (10시간)

**Tasks**:
1. `Can.ts` 캔 오브젝트 구현 (2시간)
   - 캔 타입별 스프라이트
   - 충돌 박스 설정
   - Perfect/Good 존 표시 (디버그 모드)

2. `CanPool.ts` 오브젝트 풀링 (2시간)
   - 캔 재사용 시스템
   - 성능 최적화

3. 캔 스포너 시스템 (2시간)
   - 일정 간격으로 캔 생성
   - 좌우 랜덤 배치
   - 화면 밖 캔 제거

4. 착지 감지 로직 (3시간)
   - 픽셀 단위 충돌 검사
   - Perfect 존 50% (중심 기준)
   - Good 존 25% (좌우)
   - Miss 판정

5. 착지 피드백 (1시간)
   - 착지 시 효과음
   - 텍스트 팝업 ("Perfect!", "Good", "Miss")
   - 카메라 쉐이크 (Perfect 시)

**산출물**:
- ✅ 캔이 일정 간격으로 생성
- ✅ 고양이가 캔에 착지하면 판정 표시
- ✅ Miss 시 게임오버

**의존성**: Physics 충돌 시스템

---

### Day 5: 점수 시스템 (4시간)

**Tasks**:
1. `ScoreManager.ts` 완성 (2시간)
   - 기본 점수 계산 (Perfect: 25, Good: 10)
   - 현재 점수 / 최고 점수 저장
   - LocalStorage 연동

2. UI 표시 (1.5시간)
   - 화면 상단 점수 표시
   - 점수 증가 애니메이션

3. 최고 기록 시스템 (30분)
   - 최고 기록 갱신 감지
   - "New Record!" 표시

**산출물**:
- ✅ 착지 성공 시 점수 증가
- ✅ 최고 기록 저장/표시

**Week 1 마일스톤**: **브라우저에서 플레이 가능한 기본 프로토타입**

---

## Week 2: 난이도 & 콤보 시스템

**목표**: 게임 진행에 따른 난이도 증가 및 콤보 메카닉 추가

### Day 1-2: 난이도 곡선 (8시간)

**Tasks**:
1. 층수 카운터 구현 (1시간)
   - 착지 성공 시 층수 증가
   - UI 표시

2. 난이도 테이블 적용 (3시간)
   - `DifficultyConfig.ts` 데이터 사용
   - 층수별 속도 배율 (1.0x → 0.6x)
   - 층수별 캔 구성 변경

3. 캔 이동 속도 조정 (2시간)
   - 좌우 이동 속도 감소 (어려워짐)
   - 방향 전환 빈도 증가 (0% → 70%)

4. 특수 캔 스폰 로직 (2시간)
   - 층수별 황금캔 확률 (2% → 5%)
   - 선물캔 확률 (5% → 10%)
   - 함정캔 등장 (10층+, 0% → 8%)

**산출물**:
- ✅ 0-10층: 쉬움
- ✅ 11-20층: 보통
- ✅ 21-30층: 어려움
- ✅ 31-50층: 매우 어려움
- ✅ 51층+: 엑스트림

**의존성**: `DifficultyConfig.ts`

---

### Day 3-4: 콤보 시스템 (10시간)

**Tasks**:
1. 콤보 카운터 구현 (2시간)
   - Perfect 착지 시 콤보 +1
   - Good/Miss 시 콤보 리셋
   - 최대 콤보 기록 저장

2. 콤보 배율 시스템 (2시간)
   - 3콤보: 2x
   - 5콤보: 3x
   - 10콤보: 4x

3. 콤보 UI (2시간)
   - 콤보 카운터 표시
   - 콤보 증가 시 애니메이션
   - 콤보 배율 표시

4. 콤보 효과음 (1시간)
   - 콤보 증가 시 사운드 (피치 증가)
   - 콤보 끊김 사운드

5. 콤보 피드백 강화 (2시간)
   - 콤보 유지 시 화면 테두리 빛
   - 파티클 효과

6. 테스트 (1시간)

**산출물**:
- ✅ 콤보 시스템 동작
- ✅ 점수 배율 적용

**Week 2 마일스톤**: **난이도 곡선 체감 가능, 콤보 재미 확인**

---

## Week 3: 콘텐츠 & 비주얼

**목표**: 시각적/청각적 완성도 향상

### Day 1-2: 특수 캔 구현 (10시간)

**Tasks**:
1. 황금캔 (2시간)
   - 3배 점수
   - 황금 반짝임 효과
   - 획득 시 팡파레

2. 선물캔 (2시간)
   - 랜덤 보상 (코인 10-50)
   - 선물 상자 열기 애니메이션

3. 넓은캔 (1.5시간)
   - Perfect 존 80%
   - 쉬운 착지

4. 함정캔 (2시간)
   - 즉시 게임오버
   - 경고 이펙트 (빨간 테두리)

5. 흔들리는캔 (1.5시간)
   - 좌우 흔들림 애니메이션
   - 난이도 증가

6. 테스트 및 밸런싱 (1시간)

**산출물**:
- ✅ 5종 특수 캔 동작
- ✅ 각 캔별 고유 효과

---

### Day 3: 오디오 시스템 (5시간)

**Tasks**:
1. `AudioManager.ts` 완성 (2시간)
   - BGM 재생/정지
   - SFX 재생 (풀링)
   - 볼륨 조절

2. 효과음 추가 (2시간)
   - 점프 ("뿅")
   - Perfect 착지 ("띵!")
   - Good 착지 ("톡")
   - 코인 획득 ("찰랑")
   - 콤보 ("띵띵!")
   - 게임오버 ("미야옹~")

3. BGM 추가 (1시간)
   - 메뉴 BGM (편안한 재즈)
   - 게임 BGM (경쾌한 일렉트로닉)

**산출물**:
- ✅ 모든 이벤트에 사운드 피드백
- ✅ BGM 루프 재생

---

### Day 4-5: 파티클 & 애니메이션 (8시간)

**Tasks**:
1. 파티클 시스템 (3시간)
   - Perfect 착지: 별 파티클
   - 코인 획득: 반짝임
   - 황금캔: 금가루

2. 고양이 애니메이션 (3시간)
   - Idle: 꼬리 흔들기
   - Jump: 몸 웅크림
   - Land: 충격 흡수 동작
   - Fall: 당황한 표정 (Miss 시)

3. UI 애니메이션 (2시간)
   - 점수 팝업 (위로 떠오름)
   - 코인 카운터 증가 애니메이션
   - 버튼 hover 효과

**산출물**:
- ✅ 게임이 시각적으로 매력적
- ✅ 애니메이션 부드러움

**Week 3 마일스톤**: **시각적/청각적으로 완성된 게임**

---

## Week 4: 게임 루프 & 심리 시스템

**목표**: 중독성 강화 및 플레이어 유도 메카닉

### Day 1-2: 메달 & Near-Miss (8시간)

**Tasks**:
1. 메달 시스템 (3시간)
   - 층수별 메달 계산
   - 메달 UI 표시 (🥉🥈🥇💎)
   - 메달 달성 시 축하 효과

2. Near-Miss 시스템 (3시간)
   - 1px 차이 감지
   - "So Close!" 텍스트
   - 슬로우 모션 효과 (0.3초)
   - 심장 박동 사운드

3. Near-Miss 확장 (2시간)
   - -2/-3층 메달 근접 감지
   - "Almost Bronze!", "Almost Silver!"
   - 희망 메시지 ("조금만 더!")

**산출물**:
- ✅ 메달 목표 동기 부여
- ✅ Near-Miss로 재도전 욕구 자극

---

### Day 3-4: 튜토리얼 시스템 (10시간)

**Tasks**:
1. FTUE Wave 설계 (2시간)
   - Wave 1: 첫 점프 유도
   - Wave 2: Perfect 착지 연습 (3회)
   - Wave 3: 콤보 이해 (5콤보)
   - Wave 4: 특수 캔 소개

2. 튜토리얼 UI 구현 (3시간)
   - 말풍선 시스템
   - 화살표 가이드
   - 하이라이트 효과

3. 강제 가이드 로직 (2시간)
   - 특정 액션 전까지 진행 차단
   - 성공 시 다음 웨이브 전환

4. 자동 스킵 로직 (2시간)
   - 5층 도달 시 튜토리얼 자동 종료
   - 재방문 시 튜토리얼 생략

5. 테스트 (1시간)

**산출물**:
- ✅ 신규 유저 이탈률 감소
- ✅ 게임 이해도 향상

---

### Day 5: 심리 엔진 시스템 (8시간)

**Tasks**:
1. 감정이입 시스템 (3시간)
   - 고양이 감정 상태 머신 (CatEmotion enum)
   - 점수별 표정 변화 (기쁨, 평범, 슬픔)
   - 콤보 유지 시 신남
   - Miss 시 당황
   - 게임오버 시 눈물
   - 말풍선 시스템 ("다시... 먹고 싶어...")

2. 손실 회피 시스템 (2.5시간)
   - 간식 탑 시각화 (콤보 쌓일 때)
   - Good 착지 시 탑 흔들림
   - 콤보 끊기면 탑 붕괴 애니메이션
   - 황금캔 놓침 시 코인 떨어지는 이펙트

3. Mercy 시스템 (2시간)
   - 연속 실패 추적 (3회, 5회, 7회, 10회)
   - Perfect 존 확대 트리거 (10%)
   - 무료 부활 1회 제공
   - 연습 모드 제안 UI
   - 100 코인 + 럭키 확률 3배 보너스

4. 테스트 (30분)

**산출물**:
- ✅ 플레이어-고양이 감정 연결
- ✅ 재시도 동기 강화
- ✅ 이탈 방지 시스템 동작

**Week 4 마일스톤**: **중독성 있는 게임 루프 + 심리 엔진 완성**

---

## Week 5: 메타 게임 & 진행 시스템

**목표**: 장기 플레이 유도 시스템 구축

### Day 1-2: 코인 & 에너지 시스템 (10시간)

**Tasks**:
1. 코인 시스템 (3시간)
   - 획득 로직 (Perfect: 2코인, Good: 1코인)
   - 황금캔: 10코인
   - 코인 UI 표시 및 저장

2. 에너지(생명) 시스템 (4시간)
   - 최대 5개 하트
   - 게임 시작 시 1개 소모
   - 20분마다 1개 자동 회복
   - LocalStorage 타이머 저장

3. 에너지 획득 방법 (2시간)
   - 광고 시청 (임시 버튼)
   - 코인으로 구매 (500 코인 = 1개)
   - 일일 로그인 보너스 연동 준비

4. 에너지 0 상태 UI (1시간)
   - "광고 보고 플레이" 버튼
   - 회복까지 남은 시간 표시

**산출물**:
- ✅ 코인 획득 및 사용
- ✅ 에너지 시스템 동작

---

### Day 3-4: 미션 시스템 (10시간)

**Tasks**:
1. 미션 데이터 구조 설계 (2시간)
   - 일일 미션 (3개)
   - 주간 미션 (7개)
   - 미션 타입 (점수, 콤보, 층수, 캔 수집)

2. 미션 진행도 추적 (3시간)
   - 게임 중 이벤트 리스닝
   - 미션 달성률 계산
   - LocalStorage 저장

3. 미션 UI (3시간)
   - 미션 목록 화면
   - 진행도 바
   - 완료 시 체크 표시

4. 미션 보상 (2시간)
   - 코인 지급
   - 완료 애니메이션
   - 모두 완료 시 보너스

**산출물**:
- ✅ 일일 미션 동작
- ✅ 미션 완료 시 보상 지급

---

### Day 5: 리텐션 시스템 강화 (8시간)

**Tasks**:
1. 일일 로그인 보상 시스템 (2시간)
   - 일일 보상 테이블 (코인, 에너지, 다이아)
   - 서버 시간 기준 계산
   - 보상 팝업 UI

2. 스트릭 시스템 (2.5시간)
   - 연속 로그인 일수 추적
   - 7일/14일/30일/100일 보상
   - 스트릭 보호 시스템 (다이아 50개)
   - 복구 티켓 시스템 (24시간 내, 다이아 100개)
   - 스트릭 위험 알림 (2시간 전)

3. FOMO 시스템 (2시간)
   - 일일 미션 타이머 (만료 3시간 전 알림)
   - 연속 접속 보너스 미리보기
   - 한정 이벤트 카운트다운

4. 오프라인 보상 시스템 (1시간)
   - 경과 시간 계산 (1h/4h/8h/24h)
   - 하우스 보너스 연동
   - 광고 보고 2배 옵션

5. 테스트 (30분)

**산출물**:
- ✅ 일일 로그인 유도
- ✅ 스트릭 보상 및 보호
- ✅ FOMO 효과 구현
- ✅ 복귀 유도 시스템

**Week 5 마일스톤**: **장기 리텐션 시스템 완성**

---

## Week 6: 백엔드 통합 & 수익화

**목표**: Firebase 연동, 광고/IAP 구현, 법적 준수

### Day 1: Firebase 통합 (8시간)

**Tasks**:
1. 익명 인증 통합 (1.5시간)
   - 앱 시작 시 자동 로그인
   - UID 발급 및 저장

2. Firestore 데이터 저장 (2.5시간)
   - 유저 프로필 (코인, 에너지, 최고 점수)
   - 게임 기록 저장
   - 로컬 → 클라우드 동기화

3. Cloud Functions 구현 (3시간)
   - `validateScore`: 점수 검증 (치트 방지)
   - `grantReward`: 보상 지급
   - `updateLeaderboard`: 리더보드 갱신

4. 오프라인 지원 (1시간)
   - Firestore 오프라인 모드
   - 재연결 시 동기화

**산출물**:
- ✅ 클라우드에 데이터 저장
- ✅ 서버 사이드 점수 검증

---

### Day 2: 푸시 알림 & 리텐션 훅 (8시간)

**Tasks**:
1. FCM 푸시 알림 시스템 (3시간)
   - Cloud Functions 푸시 전송 로직
   - 푸시 타입별 메시지 템플릿
   - 푸시 스케줄링 (에너지, 로그인, 스트릭)
   - 야간 금지 시간대 설정 (22시-8시)
   - 일일 최대 3회 제한

2. D1 리텐션 훅 (2.5시간)
   - 2시간 후: "에너지 충전 완료!" 푸시
   - 4시간 후: "오늘의 미션 곧 만료!" 푸시
   - 취침 전: "내일 로그인하면 보너스!" 푸시

3. D3-D5 리텐션 훅 (2시간)
   - D3: 3일 연속 접속 보너스 + 새 캐릭터 티저
   - D4: 새 챌린지 해금 알림
   - D5: 5일차 전용 업적 해금
   - 24시간 미접속 시 복귀 푸시

4. D7-D14 리텐션 훅 (30분)
   - D7: 14일 목표 시작 안내
   - D12: "14일까지 2일!" 카운트다운
   - D14: 2주 집사 달성 보상

**산출물**:
- ✅ 푸시 알림 시스템 동작
- ✅ D1/D3-D5/D7-D14 훅 구현
- ✅ 이탈 방지 자동화

---

### Day 3: AdMob & COPPA/GDPR (6시간)

**Tasks**:
1. Capacitor 플러그인 설치 (1시간)
   ```bash
   npm install @capacitor-community/admob
   npx cap sync
   ```

2. COPPA/GDPR 컴플라이언스 (2시간)
   - AdMob 아동 보호 설정 (`tagForChildDirectedTreatment: true`)
   - 맞춤형 광고 비활성화
   - 가족 친화 콘텐츠 필터
   - 개인정보 처리방침 작성
   - EU 지역 GDPR 배너 표시

3. 보상형 광고 구현 (2시간)
   - 광고 로드
   - 광고 시청 완료 시 보상 (에너지 1개)
   - 에러 처리 (광고 없음)

4. 전면 광고 + 노출 제어 (30분)
   - 게임오버 시 50% 확률
   - 광고 피로도 관리 (5판마다 1회)
   - 세션당 최대 광고 제한
   - 광고 노출 분석 이벤트

5. 테스트 (30분)
   - 테스트 광고 ID 사용

**산출물**:
- ✅ 광고 시청으로 에너지 획득
- ✅ COPPA/GDPR 준수 완료
- ✅ 광고 수익 발생 준비

---

### Day 4-5: IAP 구현 & 퍼널 추적 (10시간)

**Tasks**:
1. Google Play Billing 설정 (2시간)
   - `@capacitor-community/in-app-purchases` 설치
   - 상품 등록 (코인 팩, 프리미엄 패스)

2. 보호자 게이트 구현 (1.5시간)
   - IAP 구매 전 수학 문제 ("23 + 47 = ?")
   - 성인 난이도, 30초 제한
   - COPPA 준수 요구사항

3. 상점 UI 구현 (3시간)
   - 코인 팩 (500, 1500, 5000, 15000)
   - 프리미엄 패스 ($4.99/월)
   - 구매 버튼 및 확인 팝업
   - "초보 팩" (24시간 한정, 80% 할인)

4. 구매 플로우 & 퍼널 추적 (2.5시간)
   - 구매 요청
   - 영수증 검증 (Cloud Functions)
   - 아이템 지급
   - IAP 퍼널 이벤트 추적:
     - 상점 방문 → 아이템 조회 → 구매 버튼 클릭 → 결제 완료
   - 2차 구매 유도 (첫 구매 후 관련 상품 추천)

5. 복원 기능 (1시간)
   - "구매 복원" 버튼
   - 비소모성 아이템 복원

**산출물**:
- ✅ IAP 동작 (테스트 환경)
- ✅ 보호자 게이트 구현
- ✅ IAP 퍼널 추적 완료
- ✅ 수익화 준비 완료

**Week 6 마일스톤**: **MVP + 리텐션 + 수익화 완성, 법적 준수 완료**

---

## Phase 2: 소셜 & 폴리싱 (Week 7-8)

---

## Week 7: 소셜 기능

**목표**: 리더보드 및 소셜 공유

### Day 1-2: 리더보드 (10시간)

**Tasks**:
1. Firestore 리더보드 구조 (2시간)
   - 전체 리더보드 컬렉션
   - 주간 리더보드 (자동 리셋)
   - 인덱스 생성 (score DESC)

2. 리더보드 UI (4시간)
   - 상위 100명 표시
   - 내 순위 하이라이트
   - 탭 전환 (전체/주간/친구)

3. 리더보드 데이터 로딩 (2시간)
   - Firestore 쿼리
   - 페이지네이션 (50명씩)
   - 캐싱

4. 점수 제출 (2시간)
   - 게임오버 시 점수 전송
   - Cloud Function으로 검증 및 저장

**산출물**:
- ✅ 리더보드 확인 가능
- ✅ 경쟁 요소 추가

---

### Day 3: 고스트 레이스 (5시간)

**Tasks**:
1. 리플레이 데이터 저장 (2시간)
   - 프레임별 위치 기록 (60fps)
   - 압축 알고리즘 (delta encoding)

2. 고스트 재생 (2.5시간)
   - 상대 기록 선택 (리더보드 1위)
   - 반투명 고양이 표시
   - 실시간 위치 비교

3. UI (30분)
   - "고스트 도전" 버튼
   - 승패 결과 표시

**산출물**:
- ✅ 고스트 레이스 동작
- ✅ 재도전 욕구 증가

---

### Day 4-5: 공유 시스템 (8시간)

**Tasks**:
1. 스크린샷 캡처 (2시간)
   - 게임오버 화면 캡처
   - Canvas → Image 변환

2. 공유 텍스트 생성 (1.5시간)
   - "나는 {층수}층까지 도달했어요! 🐱"
   - 동적 메시지 생성

3. Capacitor Share API (2시간)
   - 네이티브 공유 시트 호출
   - 이미지 + 텍스트 공유

4. 공유 보상 (1.5시간)
   - 공유 시 코인 50개 지급 (1일 1회)
   - 바이럴 추적 (Firebase Analytics)

5. 테스트 (1시간)

**산출물**:
- ✅ SNS 공유 기능
- ✅ 바이럴 확산 유도

**Week 7 마일스톤**: **소셜 기능 완성**

---

## Week 8: 폴리싱 & 출시 준비

**목표**: 성능 최적화, 다국어, 접근성, 출시

### Day 1-2: 성능 최적화 (10시간)

**Tasks**:
1. 프로파일링 (2시간)
   - Chrome DevTools로 병목 지점 파악
   - FPS 모니터링

2. 오브젝트 풀링 개선 (2시간)
   - 캔 풀 크기 조정
   - 파티클 재사용

3. 에셋 최적화 (3시간)
   - 텍스처 압축 (WEBP)
   - 스프라이트 아틀라스 생성
   - 오디오 압축 (MP3 128kbps)

4. 코드 스플리팅 (2시간)
   - 씬별 동적 임포트
   - Lazy loading

5. 빌드 최적화 (1시간)
   - Vite 프로덕션 빌드
   - Tree shaking 확인

**산출물**:
- ✅ 60fps 유지
- ✅ 번들 크기 <5MB

---

### Day 3: 접근성 & 현지화 (10시간)

**Tasks**:
1. 시각 접근성 구현 (3.5시간)
   - 색맹 모드 구현 (적록색맹, 청황색맹)
   - 색상 팔레트 3종 (기본, 적록색맹, 청황색맹)
   - 캔 테두리 강조 + 패턴 추가
   - 고대비 모드 (순수 검정/흰색)
   - 큰 글꼴 모드 (150% 확대, 최소 18px)
   - 애니메이션 감소 모드

2. 입력 접근성 구현 (2시간)
   - 햅틱 피드백 (iOS/Android)
   - Perfect/Good/Miss별 진동 강도 차별화
   - 원핸드 모드 (좌/우 선택)
   - 터치 영역 확대 (최소 44x44px)

3. i18n 시스템 (3.5시간)
   - `i18next` 라이브러리 설치
   - 번역 키 시스템 설계
   - 4개 언어 파일 (한국어, 영어, 일본어, 중국어 간체)
   - 동적 언어 전환
   - 날짜/통화/숫자 포맷 현지화
   - 문화권별 적응 (일본: 귀여움, 중국: 행운, 서양: 경쟁)

4. 테스트 (1시간)

**산출물**:
- ✅ 접근성 준수 (WCAG 2.1 AA)
- ✅ 4개 언어 지원
- ✅ 문화권별 적응

---

### Day 4: Capacitor 앱 빌드 (5시간)

**Tasks**:
1. Android 빌드 (2.5시간)
   - Capacitor 프로젝트 생성
   ```bash
   npx cap add android
   ```
   - Android Studio 설정
   - 서명 키 생성
   - APK/AAB 빌드

2. iOS 빌드 (2시간)
   - Xcode 설정
   - 프로비저닝 프로파일
   - IPA 빌드 (테스트플라이트)

3. 테스트 (30분)
   - 실제 기기 테스트

**산출물**:
- ✅ Android APK
- ✅ iOS IPA (선택)

---

### Day 5: 최종 테스트 & 출시 (5시간)

**Tasks**:
1. QA 테스트 (2시간)
   - 전체 플레이 테스트
   - 버그 수정

2. Google Play Console 준비 (2시간)
   - 스토어 설명 작성
   - 스크린샷 (5개)
   - 개인정보 처리방침
   - 내부 테스트 트랙 업로드

3. 웹 버전 배포 (1시간)
   - Vercel/Netlify 배포
   - 도메인 연결 (선택)

**산출물**:
- ✅ 내부 테스트 시작
- ✅ 웹 버전 공개

**Week 8 마일스톤**: **출시 준비 완료**

---

## 기술 스택 셋업 체크리스트

### Frontend

- [ ] **Vite** 설치 및 설정
  ```bash
  npm create vite@latest
  ```

- [ ] **Phaser 3** 설치 (v3.80+)
  ```bash
  npm install phaser
  ```

- [ ] **TypeScript** 설정
  - `tsconfig.json` (strict: true)
  - Path alias (`@/` → `src/`)

- [ ] **ESLint + Prettier**
  ```bash
  npm install -D eslint prettier eslint-config-prettier
  ```

---

### Mobile (Capacitor)

- [ ] **Capacitor** 설치
  ```bash
  npm install @capacitor/core @capacitor/cli
  npx cap init
  ```

- [ ] **플랫폼 추가**
  ```bash
  npx cap add android
  npx cap add ios  # macOS에서만
  ```

- [ ] **플러그인 설치**
  ```bash
  npm install @capacitor-community/admob
  npm install @capacitor-community/in-app-purchases
  npm install @capacitor/share
  npm install @capacitor/haptics
  ```

---

### Backend (Firebase)

- [ ] **Firebase 프로젝트 생성**
  - [Firebase Console](https://console.firebase.google.com/)
  - 프로젝트 생성 및 웹 앱 등록

- [ ] **Firebase SDK 설치**
  ```bash
  npm install firebase
  ```

- [ ] **Firebase 서비스 활성화**
  - [ ] Authentication (익명)
  - [ ] Firestore Database
  - [ ] Cloud Functions (Node.js)
  - [ ] Analytics
  - [ ] Cloud Messaging (FCM)

- [ ] **Cloud Functions 프로젝트**
  ```bash
  npm install -g firebase-tools
  firebase init functions
  ```

---

### Monetization

- [ ] **AdMob 계정**
  - [AdMob Console](https://admob.google.com/)
  - 앱 등록 및 광고 단위 생성
  - 보상형 광고 ID 발급

- [ ] **Google Play Billing**
  - Play Console에서 상품 등록
  - 코인 팩 (소모성)
  - 프리미엄 패스 (정기 결제)

- [ ] **Apple IAP** (iOS 출시 시)
  - App Store Connect에서 상품 등록

---

### Development Tools

- [ ] **Git** 저장소
  ```bash
  git init
  ```

- [ ] **환경변수 관리**
  - `.env` (로컬)
  - `.env.example` (템플릿)
  - `.gitignore` (`.env` 포함)

- [ ] **디버그 도구**
  - Chrome DevTools
  - Phaser Debug Mode

---

## 위험 요소 및 완충 시간

### 기술적 위험 요소

| 위험 | 확률 | 영향 | 완충 시간 | 대응 방안 |
|------|------|------|---------|----------|
| **Phaser 3 학습 곡선** | 높음 | 중간 | +3일 | 공식 문서 및 예제 활용 |
| **Firebase 초기 설정** | 중간 | 높음 | +2일 | Firebase 템플릿 사용 |
| **AdMob 정책 위반** | 낮음 | 높음 | +1주 | AdMob 가이드라인 숙지 |
| **IAP 테스트 복잡성** | 높음 | 중간 | +2일 | 샌드박스 환경 활용 |
| **성능 문제 (모바일)** | 중간 | 중간 | +3일 | 초기부터 프로파일링 |
| **Capacitor 빌드 에러** | 중간 | 중간 | +2일 | 공식 문서 및 커뮤니티 |

---

### 일정 지연 가능성

**낙관적 시나리오**: 6주 (완충 없음)
**현실적 시나리오**: 7주 (1주 완충)
**비관적 시나리오**: 9주 (3주 완충)

**권장 일정**: **8주** (2주 완충)

---

### 완충 시간 할당

- Week 1-2: 코어 게임플레이 (높은 학습 곡선)
  - 완충: +2일
- Week 3: 콘텐츠 (에셋 제작 지연 가능)
  - 완충: +1일
- Week 6: 백엔드 통합 (Firebase/AdMob 복잡성)
  - 완충: +3일
- Week 8: 출시 준비 (예상치 못한 버그)
  - 완충: +2일

**총 완충**: +8일 (≈1.5주)

---

## 마일스톤 요약

### 주요 마일스톤

| Week | 마일스톤 | 검증 기준 |
|------|----------|----------|
| **Week 1** | 기본 프로토타입 | 브라우저에서 점프 → 착지 → 점수 획득 플레이 가능 |
| **Week 2** | 난이도 곡선 | 0-50층 난이도 체감 확인, 콤보 재미 확인 |
| **Week 3** | 시각/청각 완성 | 특수 캔, 사운드, 파티클 동작 |
| **Week 4** | 중독성 + 심리 엔진 | 튜토리얼, 메달, Near-Miss, 감정이입, 손실 회피, Mercy |
| **Week 5** | 메타 게임 + 리텐션 | 미션, 스트릭, FOMO, 오프라인 보상, 에너지 시스템 |
| **Week 6** | MVP + 수익화 + 법적 준수 | Firebase, FCM, 푸시 알림, AdMob/IAP, COPPA/GDPR |
| **Week 7** | 소셜 기능 | 리더보드, 공유 기능 동작 |
| **Week 8** | 출시 준비 + 접근성 | 성능 60fps, 접근성(색맹/햅틱), 4개 언어, APK 빌드 |

---

### 출시 체크리스트

**기능 완성도**:
- [ ] 코어 게임플레이 안정적
- [ ] 점수 시스템 정확
- [ ] 에너지 시스템 동작
- [ ] 광고/IAP 동작 (실제 환경)
- [ ] 리더보드 정상 작동

**기술 요구사항**:
- [ ] 60fps 유지 (중급 기기)
- [ ] 번들 크기 <5MB
- [ ] 로딩 시간 <3초
- [ ] 메모리 사용량 <200MB

**법적 준수**:
- [ ] 개인정보 처리방침 작성
- [ ] COPPA 준수 (13세 미만, AdMob 아동 보호 설정)
- [ ] GDPR 준수 (EU, 배너 표시)
- [ ] 보호자 게이트 (IAP 구매 전 수학 문제)
- [ ] AdMob 정책 준수 (맞춤형 광고 비활성화)
- [ ] 스토어 가이드라인 준수 (Everyone/4+ 등급)

**콘텐츠**:
- [ ] 스토어 설명 (한/영)
- [ ] 스크린샷 5개
- [ ] 아이콘 (512x512)
- [ ] 피처 그래픽

**테스트**:
- [ ] Android 5개 기기 테스트
- [ ] iOS 3개 기기 테스트 (선택)
- [ ] 광고 실제 노출 확인
- [ ] IAP 실제 구매 테스트

---

## 주요 변경 사항 (v1.1)

### 추가된 시스템

1. **심리 엔진 시스템** (Week 4, +8시간)
   - 감정이입 시스템 (고양이 감정 상태)
   - 손실 회피 시스템 (간식 탑 시각화)
   - Mercy 시스템 (연속 실패 보호)

2. **리텐션 강화** (Week 5, +8시간)
   - 스트릭 시스템 (보호/복구 기능)
   - FOMO 시스템 (한정 이벤트)
   - 오프라인 보상 시스템

3. **푸시 알림 & 훅** (Week 6, +8시간)
   - FCM 푸시 알림 시스템
   - D1/D3-D5/D7-D14 리텐션 훅
   - 이탈 예측 및 복귀 유도

4. **법적 준수** (Week 6, +2시간)
   - COPPA/GDPR 컴플라이언스
   - 보호자 게이트 (IAP)
   - 개인정보 처리방침

5. **IAP 퍼널 추적** (Week 6, +2시간)
   - 상점 방문 → 결제 완료 추적
   - 2차 구매 유도 시스템

6. **접근성 강화** (Week 8, +5시간)
   - 색맹 모드 3종
   - 햅틱 피드백
   - 4개 언어 지원

### 시간 조정

| 주차 | 기존 | 변경 후 | 증가 |
|------|------|---------|------|
| Week 0 Day 2 | 4h | 5h | +1h |
| Week 4 | 28h | 36h | +8h |
| Week 5 | 30h | 38h | +8h |
| Week 6 | 33h | 42h | +9h |
| Week 8 | 25h | 35h | +10h |
| **총 변경** | - | - | **+36h** |

### 총 예상 기간

- **낙관적**: 8주 (완충 최소)
- **현실적**: **9주** (추가 시스템 포함)
- **비관적**: 10주 (예상치 못한 이슈 대비)

## 다음 단계

### 즉시 시작 가능한 작업

1. **프로젝트 생성** (1시간)

   ```bash
   npm create vite@latest cat-jump -- --template vanilla-ts
   cd cat-jump
   npm install phaser
   npm run dev
   ```

2. **Firebase 프로젝트 생성** (30분)
   - [Firebase Console](https://console.firebase.google.com/) 접속
   - 프로젝트 생성
   - 웹 앱 등록 → 설정 복사

3. **폴더 구조 생성** (15분)
   - `src/scenes/`, `src/managers/`, `src/objects/` 등 생성

4. **첫 번째 씬 구현** (2시간)
   - `BootScene.ts` 작성
   - Phaser 게임 화면 확인

---

### 추천 학습 자료

**Phaser 3**:
- [공식 문서](https://photonstorm.github.io/phaser3-docs/)
- [Phaser 3 예제](https://phaser.io/examples)
- [Phaser 튜토리얼](https://phaser.io/tutorials)

**Firebase**:
- [Firebase 웹 시작 가이드](https://firebase.google.com/docs/web/setup)
- [Firestore 가이드](https://firebase.google.com/docs/firestore)
- [Cloud Functions 가이드](https://firebase.google.com/docs/functions)

**Capacitor**:
- [Capacitor 공식 문서](https://capacitorjs.com/docs)
- [AdMob 플러그인](https://github.com/capacitor-community/admob)

---

**문서 끝**

작업 시작 전 궁금한 점이 있으면 언제든지 질문해주세요! 🚀
